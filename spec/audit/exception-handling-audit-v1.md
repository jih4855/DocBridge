# [μμ™Έ μ²λ¦¬] 1μ°¨ κ°μ‚¬ λ³΄κ³ μ„ (Pre-Refactoring)

## μ°Έμ΅° μ¤ν™
- μ›ν¬ν”λ΅μ°: `[/exceptionhandling]` Exception Handling Audit
- μƒνƒ: λ¦¬ν©ν† λ§ **μ „** (Before)

---

## 1. π“ Consistency Scorecard

| Category | Score | Evaluation |
|---|---|---|
| **Backend Schema Uniformity** | **B-** | λ€λ¶€λ¶„ `{"error": "message"}` ν•μ‹μ„ λ”°λ¥΄μ§€λ§, μ „μ—­ μμ™Έ μ²λ¦¬κΈ°κ°€ μ—†μ–΄ λ―Έμ²λ¦¬ μμ™Έ(500) λ°μƒ μ‹ HTML/Text μ‘λ‹µμ΄ λ‚κ° μ„ν—μ΄ μμ. κ°λ³„ λΌμ°ν„°μ—μ„ μλ™μΌλ΅ `try-catch`λ¥Ό λ°λ³µν•κ³  μμ. |
| **Frontend Client Resilience** | **D** | **μ‹¬κ°ν•¨.** μ¤‘μ•™ν™”λ API ν΄λΌμ΄μ–ΈνΈ μ—†μ΄ μ»΄ν¬λ„νΈλ§λ‹¤ `fetch`λ¥Ό μ§μ ‘ νΈμ¶ν•λ©°, μ—λ¬ λ©”μ‹μ§€ μ²λ¦¬κ°€ μ κ°κ°μ„(μΌλ¶€λ” μ„λ²„ λ©”μ‹μ§€ λ¬΄μ‹ν•κ³  ν•λ“μ½”λ”©λ λ©”μ‹μ§€ μ¶λ ¥). API URLλ„ ν•λ“μ½”λ”©λμ–΄ μμ. |

---

## 2. π¨ Inconsistency Report

### [Backend] `app/api/folders.py` λ“±
- **Issue:** `register_folder` ν•¨μ λ‚΄μ—μ„ `try-except Exception`μΌλ΅ JSON νμ‹± μ—λ¬λ¥Ό μ΅κ³ , `try-except ValidationError`λ΅ μ ν¨μ„± κ²€μ‚¬ μ—λ¬λ¥Ό μ΅λ” λ“± **λ°©μ–΄ λ΅μ§μ΄ ν•Έλ“¤λ¬ λ‚΄λ¶€μ— νΌμ¬**λμ–΄ μμ.
- **Why:** λΉ„μ¦λ‹μ¤ λ΅μ§μ— μ§‘μ¤‘ν•΄μ•Ό ν•  λΌμ°ν„° ν•¨μκ°€ μμ™Έ μ²λ¦¬ μ½”λ“λ΅ λΉ„λ€ν•΄μ§. λ¨λ“  APIμ—μ„ λ™μΌν• λ°©μ–΄ λ΅μ§μ„ λ³µμ‚¬/λ¶™μ—¬λ„£κΈ° ν•΄μ•Ό ν•¨.

### [Frontend] `Sidebar/index.tsx`
- **Issue:** μ„λ²„ μ—λ¬ μ‘λ‹µμ„ ν™•μΈν•μ§€ μ•κ³  λ¬΄μ΅°κ±΄ `'ν΄λ” λ©λ΅μ„ λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤.'` λλ” `'μ„λ²„μ— μ—°κ²°ν•  μ μ—†μµλ‹λ‹¤.'`λ΅ ν‰μΉ¨.
- **Why:** μ‚¬μ©μλ” κµ¬μ²΄μ μΌλ΅ μ™ μ‹¤ν¨ν–λ”μ§€(μ: κ¶ν• μ—†μ, λ°μ΄ν„° μ—†μ λ“±) μ• μ μ—†μ.

### [Frontend] `MainViewer.tsx`
- **Issue:** URL ν•λ“μ½”λ”© (`http://localhost:8000/api/files...`).
- **Issue:** `res.json().catch(() => ({}))`μ™€ κ°™μ€ νμ‹± μ—λ¬ λ°©μ–΄ μ½”λ“κ°€ μ»΄ν¬λ„νΈλ§λ‹¤ λ°λ³µλ¨.
- **Why:** μ μ§€λ³΄μμ„± μ €ν• λ° ν™κ²½ λ³€κ²½(λ°°ν¬ λ“±) μ‹ λ€μ‘ λ¶κ°€.

---

## 3. π›΅οΈ λ¦¬ν©ν† λ§ μ μ•

### Backend
- μ „μ—­ μμ™Έ μ²λ¦¬κΈ° λ„μ… (`app/core/exceptions.py`)
- `main.py`μ— ν•Έλ“¤λ¬ λ“±λ΅
- λΌμ°ν„° λ‚΄ μ¤‘λ³µ `try-catch` μ κ±°

### Frontend
- API Client μ ν‹Έλ¦¬ν‹° λ„μ… (`src/lib/api.ts`)
- `fetch` λνΌλ¥Ό ν†µν• μ—λ¬ νμ‹± μλ™ν™”
